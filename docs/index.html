<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ìºë¦­í„° vs ì  ì‹œë®¬ë ˆì´ì…˜</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
    }
    h2 {
      text-align: center;
      margin-bottom: 30px;
    }
    .tab-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    .tab-button {
      flex: 1;
      padding: 12px 0;
      background-color: #eee;
      border: 1px solid #ccc;
      border-bottom: none;
      cursor: pointer;
      text-align: center;
      font-weight: 600;
    }
    .tab-button.active {
      background-color: white;
      border-top: 3px solid #007bff;
      font-weight: 700;
    }
    .tab-content {
      display: none;
      min-height: 850px; /* âœ… ëª¨ë“  íƒ­ ë™ì¼í•œ ë†’ì´ ì ìš© */
    }
    .tab-content.active {
      display: block;
    }
    .tab-contents-wrapper {
      border: 1px solid #ccc;
      background: #fafafa;
      padding: 20px;
      border-radius: 0 8px 8px 8px;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    input[type="number"] {
      width: 100%;
      padding: 6px 10px;
      margin-bottom: 15px;
      font-size: 14px;
      box-sizing: border-box;
    }
    .upgrade-sections {
      display: flex;
      gap: 20px;
    }
    .left-section, .center-section, .right-section {
      flex: 1;
      padding: 10px;
      border: 1px solid #ddd;
      background: #fff;
      border-radius: 6px;
    }
    .form-buttons {
      display: flex;
      gap: 15px;
      margin-top: 20px;
      justify-content: center;
    }
    .form-buttons button {
      padding: 10px 20px;
      font-size: 16px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .form-buttons button:hover {
      background: #0056b3;
    }
	.levelup-log {
	  color: green;
	  font-weight: bold;
	}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<h2>simulation</h2>

<div class="tab-buttons">
  <div class="tab-button active" data-tab="simulationInfo">ì‹œë®¬ë ˆì´ì…˜ ì •ë³´</div>
  <div class="tab-button" data-tab="player">ë‚´ ìºë¦­í„° ì •ë³´</div>
  <div class="tab-button" data-tab="resource">ì¬í™” ì •ë³´</div>
  <div class="tab-button" data-tab="upgrade">ì—…ê·¸ë ˆì´ë“œ ë¹„ìš©</div>
  <div class="tab-button" data-tab="enemy">ì  ì •ë³´</div>
</div>

<form id="attackForm">
  <div class="tab-contents-wrapper">
	<div id="simulationInfo" class="tab-content active">
	  <label>ì‹œë®¬ë ˆì´ì…˜ ì´ë¦„:</label>
	  <input type="text" id="simulationName" value="simulations" />
	 <label>ì „ëµ ì„ íƒ:</label>
		<div style="margin-bottom: 15px;">
		  <label><input type="radio" name="strategyType" value="balanced" checked onchange="showStrategyInputs('balanced')" /> âœ… ê· í˜•í˜•</label>
		  <label><input type="radio" name="strategyType" value="dps" onchange="showStrategyInputs('dps')" /> ğŸ”¥ DPS ì§‘ì¤‘í˜•</label>
		  <label><input type="radio" name="strategyType" value="crit" onchange="showStrategyInputs('crit')" /> ğŸ¯ í¬ë¦¬í‹°ì»¬ ì§‘ì¤‘í˜•</label>
		</div>

		<div id="strategyInputs">
		  <div id="balancedInputs">
			<strong>ê· í˜•í˜• ë¶„ë°°:</strong>
			<label>ë ˆë²¨ì—… (%)</label><input type="number" id="balancedLevelUp" value="20" />
			<label>ê³µê²©ë ¥ (%)</label><input type="number" id="balancedAttack" value="25" />
			<label>í¬ë¦¬í‹°ì»¬ í™•ë¥  (%)</label><input type="number" id="balancedCritChance" value="20" />
			<label>í¬ë¦¬í‹°ì»¬ ë°ë¯¸ì§€ (%)</label><input type="number" id="balancedCritDamage" value="15" />
			<label>ê³µê²©ì†ë„ (%)</label><input type="number" id="balancedSpeed" value="20" />
		  </div>

		  <div id="dpsInputs" style="display:none">
			<strong>DPS ì§‘ì¤‘í˜• ë¶„ë°°:</strong>
			<label>ë ˆë²¨ì—… (%)</label><input type="number" id="dpsLevelUp" value="15" />
			<label>ê³µê²©ë ¥ (%)</label><input type="number" id="dpsAttack" value="40" />
			<label>í¬ë¦¬í‹°ì»¬ í™•ë¥  (%)</label><input type="number" id="dpsCritChance" value="10" />
			<label>í¬ë¦¬í‹°ì»¬ ë°ë¯¸ì§€ (%)</label><input type="number" id="dpsCritDamage" value="10" />
			<label>ê³µê²©ì†ë„ (%)</label><input type="number" id="dpsSpeed" value="25" />
		  </div>

		  <div id="critInputs" style="display:none">
			<strong>í¬ë¦¬í‹°ì»¬ ì§‘ì¤‘í˜• ë¶„ë°°:</strong>
			<label>ë ˆë²¨ì—… (%)</label><input type="number" id="critLevelUp" value="15" />
			<label>ê³µê²©ë ¥ (%)</label><input type="number" id="critAttack" value="15" />
			<label>í¬ë¦¬í‹°ì»¬ í™•ë¥  (%)</label><input type="number" id="critCritChance" value="35" />
			<label>í¬ë¦¬í‹°ì»¬ ë°ë¯¸ì§€ (%)</label><input type="number" id="critCritDamage" value="25" />
			<label>ê³µê²©ì†ë„ (%)</label><input type="number" id="critSpeed" value="10" />
		  </div>
		</div>
		<div id="strategyWarning" style="display:none; color:red; font-weight:bold; margin-top:10px;">
		  âš ï¸ ë¶„ë°° ì´í•©ì´ 100%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì¡°ì •í•´ì£¼ì„¸ìš”.
		</div>

	</div>
    <div id="player" class="tab-content">
      <label>ë‚´ ìºë¦­í„° ë ˆë²¨:</label>
      <input type="number" id="playerLevel" value="1" min="1" />
      <label>ë‚´ ìºë¦­í„° ìµœëŒ€ ë ˆë²¨:</label>
      <input type="number" id="playerMaxLevel" value="100" min="1" />
      <label>ê¸°ë³¸ ê³µê²©ë ¥:</label>
      <input type="number" id="baseAttack" value="10" min="0" />
      <label>ê³µê²© ì†ë„ (ì´ˆë‹¹ ê³µê²© íšŸìˆ˜):</label>
      <input type="number" id="attackSpeed" value="1" min="0.1" step="0.1" />
      <label>ê³µê²©ë ¥ ì¦ê°€ ìƒìˆ˜ C:</label>
      <input type="number" id="attackC" value="0.02" step="0.001" />
      <label>ê¸°ë³¸ í¬ë¦¬í‹°ì»¬ í™•ë¥  (%):</label>
      <input type="number" id="critChance" value="0" max="100" />
      <label>ê¸°ë³¸ í¬ë¦¬í‹°ì»¬ ë°ë¯¸ì§€ ë°°ìœ¨:</label>
      <input type="number" id="critDamage" value="10" min="1" />
    </div>

    <div id="resource" class="tab-content">
      <label>ê¸°ë³¸ ì¬í™”:</label>
      <input type="number" id="baseResource" value="100" />
      <label>ì¬í™” íšë“ ê°„ê²© (ì´ˆ):</label>
      <input type="number" id="resourceInterval" value="60" />
    </div>

    <div id="upgrade" class="tab-content">
      <div class="upgrade-sections">
        <div class="left-section">
          <label>ë ˆë²¨ì—…:</label>
          <input type="number" id="upgradeCostLevel" value="10" />
          <label>ê¸°ë³¸ ê³µê²©ë ¥:</label>
          <input type="number" id="upgradeCostAttack" value="10" />
          <label>ê¸°ë³¸ ê³µê²©ì†ë„:</label>
          <input type="number" id="upgradeCostSpeed" value="50" />
          <label>í¬ë¦¬í‹°ì»¬ í™•ë¥ :</label>
          <input type="number" id="upgradeCostCritChance" value="100" />
          <label>í¬ë¦¬í‹°ì»¬ ë°ë¯¸ì§€:</label>
          <input type="number" id="upgradeCostCritDamage" value="500" />
        </div>
        <div class="center-section">
          <label>ë ˆë²¨ì—… ìµœëŒ€ ë ˆë²¨:</label>
          <input type="number" id="maxLevelUp" value="100" />
          <label>ê³µê²©ë ¥ ìµœëŒ€ ë ˆë²¨:</label>
          <input type="number" id="maxAttackLevel" value="100" />
          <label>ê³µê²©ì†ë„ ìµœëŒ€ ë ˆë²¨:</label>
          <input type="number" id="maxSpeedLevel" value="100" />
          <label>í¬ë¦¬ í™•ë¥  ìµœëŒ€ ë ˆë²¨:</label>
          <input type="number" id="maxCritChanceLevel" value="100" />
          <label>í¬ë¦¬ ë°ë¯¸ì§€ ìµœëŒ€ ë ˆë²¨:</label>
          <input type="number" id="maxCritDamageLevel" value="100" />
        </div>
        <div class="right-section">
          <label>ë ˆë²¨ì—… ë¹„ìš© ìƒìˆ˜:</label>
          <input type="number" id="levelCostC" value="1.2" step="0.01" />
          <label>ê³µê²©ë ¥ ë¹„ìš© ìƒìˆ˜:</label>
          <input type="number" id="attackCostC" value="1.2" step="0.01" />
          <label>ê³µê²©ì†ë„ ë¹„ìš© ìƒìˆ˜:</label>
          <input type="number" id="speedCostC" value="1.2" step="0.01" />
          <label>í¬ë¦¬ í™•ë¥  ë¹„ìš© ìƒìˆ˜:</label>
          <input type="number" id="critChanceCostC" value="1.2" step="0.01" />
          <label>í¬ë¦¬ ë°ë¯¸ì§€ ë¹„ìš© ìƒìˆ˜:</label>
          <input type="number" id="critDamageCostC" value="1.2" step="0.01" />
        </div>
      </div>
    </div>

    <div id="enemy" class="tab-content">
      <label>ì  ì´ˆê¸° ë ˆë²¨:</label>
      <input type="number" id="enemyLevel" value="1" min="1" />
      <label>ì  ìµœëŒ€ ë ˆë²¨:</label>
      <input type="number" id="enemyMaxLevel" value="100" />
      <label>ì  ê¸°ë³¸ ì²´ë ¥:</label>
      <input type="number" id="enemyHP" value="10" />
      <label>ì  ê¸°ë³¸ ë°©ì–´ë ¥:</label>
      <input type="number" id="enemyBaseDef" value="10" />
      <label>ë°©ì–´ë ¥ ì¦ê°€ ìƒìˆ˜ C:</label>
      <input type="number" id="defC" value="0.02" step="0.001" />
      <label>ìì—°ìƒìˆ˜ e:</label>
      <input type="number" id="defE" value="2.71828" step="0.00001" />
      <label>ì²´ë ¥ ì¦ê°€ìœ¨ r:</label>
      <input type="number" id="hpGrowthRate" value="1.15" step="0.01" />
      <label>ë³´ìƒ ê¸°ë³¸ ì¬í™”:</label>
      <input type="number" id="rewardBase" value="100" />
      <label>ë³´ìƒ ì¦ê°€ ìƒìˆ˜ C:</label>
      <input type="number" id="rewardCostC" value="1.1" />
      <label>ì´ ì‚¬ëƒ¥ ì‹œê°„ (ì´ˆ):</label>
      <input type="number" id="maxTime" value="1800" />
      <label>ìµœëŒ€ ì²˜ì¹˜ ìˆ˜:</label>
      <input type="number" id="maxKill" value="999" />
    </div>
  </div>

  <div class="form-buttons">
    <button type="submit" id="simulationBtn">ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘</button>
    <button type="submit" id="downloadBtn">settings save</button>
	<input type="file" id="loadFileInput" style="display:none" accept=".json" />
    <button type="submit" id="loadBtn">settings load</button>
  </div>
</form>

<div id="result"></div>

<script src="tabs.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0/dist/chartjs-plugin-annotation.min.js"></script>
<script src="simulation-info.js"></script>
<script src="simulation-core.js" ></script>
<script src="simulation-upgrade.js"></script>
<script src="simulation-save.js"></script>
<script src="simulation-load.js"></script>
<script src="simulation.js"></script>
</body>
</html>
